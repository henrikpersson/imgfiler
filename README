Image Filer
===========

This utility scans a directory for image files, renames each file
according to its SHA-1 checksum, then moves the file to a
destination directory based on the date in the file's metadata.

This is typically used for sorting photographs based on the date they were taken.

IMPORTANT:  When run without the '--move' command line argument, the program
            simply prints the operations it would perform. No changes are made to the
            file system in this case.

Example Usage
-------------

We run this command:

----
./imgfiler --move --source=/photos/uploads/ --destination=/photos --duplicates=/photos/uploads/duplicates --dateless=/photos/dateless
----

On a directory structure that looks like this:

----
/photos/
  |
  - dateless/
  |
  - uploads/
    |
    - stella/
        |
        - file.jpg
    |
    - august/
    |
    - duplicates/
----

The program does the following:

* Recursively scans /photos/uploads
* Finds file.jpg
* SHA1 of file.jpg is 7028c115056011d6f7078c9b0bb46290
* file.jpg has embedded 'Create Date'?
   ** no: move file.jpg to /photos/uploads/dateless/7028c115056011d6f7078c9b0bb46290.jpg
   ** yes: 2002:04:19 21:22:00
       *** Does /photos/2002/04-19/7028c115056011d6f7078c9b0bb46290.jpg exist already?
          **** no: move file.jpg to /photos/2002/04-19/7028c115056011d6f7078c9b0bb46290.jpg; creates required subdirectories
          **** yes: duplicates directory provided?
                 ***** no: delete file1.jpg
                 ***** yes: move file.jpg to /photos/uploads/duplicates/7028c115056011d6f7078c9b0bb46290.jpg

Todo
----
- Remove empty directories
- Keep sequence numbers if possible so photos are in order
- Group by user if possible (two users in different places on the same day)
- accept uid, gid, umask for dst file; update if same file
